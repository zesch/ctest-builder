

<div>
  <nav>
      <a md-raised-button (click)='goBack()'>Back</a>
  </nav>
</div>

<br>
<br>




 <div  fxFlex>
  <div fxLayout="row"  >
    <div  fxFlex="80%"> 
      <div class='paragraph' *ngFor="let text of paragraph" 
        (dblclick)="toggleText(text)"
        (click)="onSelect(text)">
        <div  class='text unselectable' dnd-draggable [dragEnabled]="true" [dragData]="text.id" [dropZones]="['zone2']">
          <span *ngIf='text.isHidden'>{{text.cValue}}</span>
          <span *ngIf='!text.isHidden'>{{text.value[0]}}</span>
        </div>
         <div *ngIf="simpleDrop == text.id" class='text unselectable'>
          <!--<md-input-container class='inputContainer'>-->
            <input #textInput mdInput class="input"
            (keyup.enter)="textInput.blur()"
            (blur)="add(addedText,text.id)" 
            [(ngModel)]="addedText">
          <!--</md-input-container>-->
        </div>
        <span dnd-droppable (onDropSuccess)="onDropSuccess(text.id)" [dropZones]="['zone1']"><span > &nbsp;&nbsp;&nbsp;&nbsp;</span></span>
      </div>

      <br><br><br>
      <div *ngIf='showOriginal'>
        <div class='previewText unselectable' *ngFor="let text of paragraph">
          <!--<span *ngFor="let i of solutions">{{text.value[i]}}</span>-->
          <span *ngFor="let solution of text.value">{{solution}}</span>
        </div>
      </div>
    </div>

    <div fxFlex >      
      <div class="menu">
        <button md-button (click)="export()">Export</button>
        <button md-button (click)="setOthers()">Set Others</button>
        <div dnd-draggable [dragEnabled]="true" [dropZones]="['zone1']" class='text' >
          <div  mdTooltip="Drag inbetween words to insert a new word!"><span>New word</span></div>
        </div> 
        <div dnd-droppable (onDropSuccess)="onDeleteDropSuccess($event)" [dropZones]="['zone2']" class=''>
          <div mdTooltip="Drop here to delete"><img src="assets/trash.jpg"></div>
        </div>
        <br>
        <md-slide-toggle (change) = "toggleOriginal()">
          Check preview
        </md-slide-toggle>

        <div *ngIf='selectedText' class="menu">
            <md-input-container *ngFor="let i of solutions">
              <input #solutionInput mdInput 
              (keyup.enter)="solutionInput.blur()"
              (blur)="update(selectedText)" 
              [(ngModel)]="selectedText.value[i]">
            </md-input-container>
          <button mdTooltip="Add an alternative solution" md-button (click)="addSolution()">
            +
          </button>
        </div>
      </div>
    </div>
  </div>
</div>